cadastro_users_details As screen:
    LoadingSpinnerColor: =RGBA(0, 120, 212, 1)
    OnVisible: |-
        =UpdateContext({varEmailISValid:false})

    ButtonCreateUserWorker_1 As button:
        BorderColor: =RGBA(0, 0, 0, 0)
        DisabledBorderColor: =RGBA(0, 0, 0, 0)
        DisabledColor: =RGBA(166, 166, 166, 1)
        DisabledFill: =RGBA(244, 244, 244, 1)
        DisplayMode: =If(FormUserDetails.Valid,DisplayMode.Edit,DisplayMode.Disabled)
        Fill: =RGBA(110, 164, 191, 1)
        FocusedBorderColor: =ColorFade(Self.Fill, -75%)
        Font: =Font.'Segoe UI'
        FontWeight: =FontWeight.Semibold
        Height: =70
        HoverBorderColor: =RGBA(0, 0, 0, 0)
        HoverColor: =RGBA(255, 255, 255, 1)
        HoverFill: =ColorFade(RGBA(0, 120, 212, 1), -10%)
        OnSelect: |+
            =//If(FormUserDetails.Valid; SubmitForm(FormUserDetails);Notify("Erro";NotificationType));;
            //SubmitForm(FormWorkerReg)
            
            UpdateContext({varCnpjIsValid:false});
            If((Len(DataCardValueCnpj.Text)=14),
                UpdateContext({varDig1:Int(Left(DataCardValueCnpj.Text,1))});
                UpdateContext({varDig2:Int(Mid(DataCardValueCnpj.Text,2,1))});
                UpdateContext({varDig3:Int(Mid(DataCardValueCnpj.Text,3,1))});
                UpdateContext({varDig4:Int(Mid(DataCardValueCnpj.Text,4,1))});
                UpdateContext({varDig5:Int(Mid(DataCardValueCnpj.Text,5,1))});
                UpdateContext({varDig6:Int(Mid(DataCardValueCnpj.Text,6,1))});
                UpdateContext({varDig7:Int(Mid(DataCardValueCnpj.Text,7,1))});
                UpdateContext({varDig8:Int(Mid(DataCardValueCnpj.Text,8,1))});
                UpdateContext({varDig9:Int(Mid(DataCardValueCnpj.Text,9,1))});
                UpdateContext({varDig10:Int(Mid(DataCardValueCnpj.Text,10,1))});
                UpdateContext({varDig11:Int(Mid(DataCardValueCnpj.Text,11,1))});
                UpdateContext({varDig12:Int(Mid(DataCardValueCnpj.Text,12,1))});
                UpdateContext({varFirstDV:Int(Mid(DataCardValueCnpj.Text,13,1))});
                UpdateContext({varSecondDV:Int(Right(DataCardValueCnpj.Text,1))});
                // Calculando o Primeiro Dígito Verificador
            
                UpdateContext(
                    {varSum1To12Dig: 
                        (varDig1*5+varDig2*4+varDig3*3+varDig4*2+varDig5*9+varDig6*8+varDig7*7+varDig8*6+varDig9*5+varDig10*4+varDig11*3+varDig12*2)
                    }
                );
                UpdateContext({varFirstDVCalculated:Mod(varSum1To12Dig,11)});
                If(varFirstDVCalculated<2,
                    UpdateContext({varFirstDVCalculated:0}),UpdateContext({varFirstDVCalculated:11-varFirstDVCalculated})
                );
                If(varFirstDV=varFirstDVCalculated,
                    // Calculando o Segundo Dígito Verificador
                    UpdateContext(
                        {varSum1To13Dig: 
                            (
                                varDig1*6+varDig2*5+varDig3*4+varDig4*3+varDig5*2+varDig6*9+varDig7*8+
                                varDig8*7+varDig9*6+varDig10*5+varDig11*4+varDig12*3 + varFirstDV*2
                            )
                        }
                    );
                    UpdateContext({varSecondDVCalculated:Mod(varSum1To13Dig,11)});
                    If(varSecondDVCalculated<2,
                        UpdateContext({varSecondDVCalculated:0}),UpdateContext({varSecondDVCalculated:11-varSecondDVCalculated})
                    );
                    If(varSecondDV=varSecondDVCalculated,
                        UpdateContext({varCnpjIsValid: true});)
                        ;
                    ,
                    UpdateContext({varCnpjIsValid:false});
                );
            )
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
        PressedBorderColor: =ColorFade(RGBA(0, 120, 212, 1), -50%)
        PressedColor: =RGBA(255, 255, 255, 1)
        PressedFill: =ColorFade(RGBA(2, 4, 48, 1), -30%)
        Size: =24
        Text: ="Criar"
        Width: =480
        X: =78
        Y: =906
        ZIndex: =1

    FooterWorker_14 As FooterWorker:
        Fill: =CONST_BACKGROUND_COLOR_EMPRESA
        Y: =1016
        ZIndex: =3

    HeaderWorker_3 As HeaderWorker:
        current_user_name: ="Usuários - Detalhes"
        has_right_icon: =false
        OnClickLeftIcon: =Back(ScreenTransition.Fade);ResetForm(FormUserDetails);
        Visible: =true
        ZIndex: =4

    contFormDetails As groupContainer.verticalAutoLayoutContainer:
        Height: =497
        LayoutAlignItems: =LayoutAlignItems.Center
        LayoutDirection: =LayoutDirection.Vertical
        LayoutJustifyContent: =LayoutJustifyContent.Center
        LayoutMode: =LayoutMode.Auto
        Width: =Parent.Width
        X: =(Parent.Width/2)-Self.Width/2
        Y: =150
        ZIndex: =5

        FormUserDetails As form:
            AlignInContainer: =AlignInContainer.Center
            BorderColor: =RGBA(255, 255, 255, 1)
            BorderStyle: =BorderStyle.None
            DataSource: =tbl_details
            DefaultMode: =FormMode.New
            FillPortions: =0
            Height: =Parent.Height
            LayoutMinHeight: =250
            LayoutMinWidth: =320
            Width: =526
            X: =Parent.Width
            Y: =(Parent.Height/2)-Self.Height/2
            ZIndex: =1

            cnpj_DataCard As typedDataCard.textualEditCard:
                BorderColor: =RGBA(166, 166, 166, 1)
                BorderStyle: =BorderStyle.Solid
                DataField: ="cnpj"
                Default: =ThisItem.cnpj
                DisplayMode: =Parent.DisplayMode
                DisplayName: =DataSourceInfo([@tbl_details],DataSourceInfo.DisplayName,"cnpj")
                Fill: =RGBA(0, 0, 0, 0)
                Height: =105 
                MaxLength: =DataSourceInfo([@tbl_details], DataSourceInfo.MaxLength, "cnpj")
                Required: =false
                Update: =DataCardValueCnpj.Text
                Width: =526
                X: =0
                Y: =0
                ZIndex: =3

                DataCardValueCnpj As text:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    BorderThickness: =2
                    Color: =RGBA(51, 51, 51, 1)
                    Default: =Parent.Default
                    DelayOutput: =true
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    DisplayMode: =Parent.DisplayMode
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    Height: =50
                    HintText: ="CNP"
                    HoverBorderColor: =ColorFade(RGBA(0, 120, 212, 1), -30%)
                    HoverColor: =RGBA(51, 51, 51, 1)
                    HoverFill: =RGBA(255, 255, 255, 1)
                    MaxLength: =Parent.MaxLength
                    OnChange: |
                        =UpdateContext({varCnpjIsValid:false});
                        If((Len(Self.Text)=14),
                            UpdateContext({varDig1:Int(Left(Self.Text,1))});
                            UpdateContext({varDig2:Int(Mid(Self.Text,2,1))});
                            UpdateContext({varDig3:Int(Mid(Self.Text,3,1))});
                            UpdateContext({varDig4:Int(Mid(Self.Text,4,1))});
                            UpdateContext({varDig5:Int(Mid(Self.Text,5,1))});
                            UpdateContext({varDig6:Int(Mid(Self.Text,6,1))});
                            UpdateContext({varDig7:Int(Mid(Self.Text,7,1))});
                            UpdateContext({varDig8:Int(Mid(Self.Text,8,1))});
                            UpdateContext({varDig9:Int(Mid(Self.Text,9,1))});
                            UpdateContext({varDig10:Int(Mid(Self.Text,10,1))});
                            UpdateContext({varDig11:Int(Mid(Self.Text,11,1))});
                            UpdateContext({varDig12:Int(Mid(Self.Text,12,1))});
                            UpdateContext({varFirstDV:Int(Mid(Self.Text,13,1))});
                            UpdateContext({varSecondDV:Int(Right(Self.Text,1))});
                            // Calculando o Primeiro Dígito Verificador
                        
                            UpdateContext(
                                {varSum1To12Dig: 
                                    (varDig1*5+varDig2*4+varDig3*3+varDig4*2+varDig5*9+varDig6*8+varDig7*7+varDig8*6+varDig9*5+varDig10*4+varDig11*3+varDig12*2)
                                }
                            );
                            UpdateContext({varFirstDVCalculated:Mod(varSum1To12Dig,11)});
                            If(varFirstDVCalculated<2,
                                UpdateContext({varFirstDVCalculated:0}),UpdateContext({varFirstDVCalculated:11-varFirstDVCalculated})
                            );
                            If(varFirstDV=varFirstDVCalculated,
                                // Calculando o Segundo Dígito Verificador
                                UpdateContext(
                                    {varSum1To13Dig: 
                                        (
                                            varDig1*6+varDig2*5+varDig3*4+varDig4*3+varDig5*2+varDig6*9+varDig7*8+
                                            varDig8*7+varDig9*6+varDig10*5+varDig11*4+varDig12*3 + varFirstDV*2
                                        )
                                    }
                                );
                                UpdateContext({varSecondDVCalculated:Mod(varSum1To13Dig,11)});
                                If(varSecondDVCalculated<2,
                                    UpdateContext({varSecondDVCalculated:0}),UpdateContext({varSecondDVCalculated:11-varSecondDVCalculated})
                                );
                                If(varSecondDV=varSecondDVCalculated,
                                    UpdateContext({varCnpjIsValid: true});)
                                    ;
                                ,
                                UpdateContext({varCnpjIsValid:false});
                            );
                        )
                    PaddingLeft: =5
                    PressedBorderColor: =RGBA(0, 120, 212, 1)
                    PressedColor: =RGBA(51, 51, 51, 1)
                    PressedFill: =RGBA(255, 255, 255, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =21
                    Tooltip: ="CNPJ"
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =(Parent.Height/3)-Self.Height/2
                    ZIndex: =2

                ErrorMessage2 As label:
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(168, 0, 0, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(168, 0, 0, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =30
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =18
                    Text: |-
                        =If(Not(varCnpjIsValid),"CNPJ inválido.")
                        //varCnpjIsValid
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =DataCardValueCnpj.Y + DataCardValueCnpj.Height
                    ZIndex: =3

                StarVisible30_2 As label:
                    Align: =Align.Center
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(51, 51, 51, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Fill: =RGBA(118, 0, 0, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =DataCardValueCnpj.Height
                    PaddingLeft: =0
                    Size: =21
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    X: =DataCardValueNome.X - Self.Width
                    Y: =DataCardValueNome.Y
                    ZIndex: =5

            occupation_DataCard1 As typedDataCard.textualEditCard:
                BorderColor: =RGBA(166, 166, 166, 1)
                BorderStyle: =BorderStyle.Solid
                DataField: ="occupation"
                Default: =ThisItem.occupation
                DisplayMode: =Parent.DisplayMode
                DisplayName: =DataSourceInfo([@tbl_details],DataSourceInfo.DisplayName,"occupation")
                Fill: =RGBA(0, 0, 0, 0)
                Height: =105
                MaxLength: =DataSourceInfo([@tbl_details], DataSourceInfo.MaxLength, "occupation")
                Required: =false
                Update: =DataCardValue3.Text
                Width: =526
                X: =0
                Y: =1
                ZIndex: =3

                DataCardValue3 As text:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    BorderThickness: =2
                    Color: =RGBA(51, 51, 51, 1)
                    Default: =Parent.Default
                    DelayOutput: =true
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    DisplayMode: =Parent.DisplayMode
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    Height: =50
                    HintText: ="Cargo/Ocupação"
                    HoverBorderColor: =ColorFade(RGBA(0, 120, 212, 1), -30%)
                    HoverColor: =RGBA(51, 51, 51, 1)
                    HoverFill: =RGBA(255, 255, 255, 1)
                    MaxLength: =Parent.MaxLength
                    PaddingLeft: =5
                    PressedBorderColor: =RGBA(0, 120, 212, 1)
                    PressedColor: =RGBA(51, 51, 51, 1)
                    PressedFill: =RGBA(255, 255, 255, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =21
                    Tooltip: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =(Parent.Height/3)-Self.Height/2
                    ZIndex: =2

                ErrorMessage3 As label:
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(168, 0, 0, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(168, 0, 0, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =30
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =18
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =DataCardValue3.Y + DataCardValue3.Height
                    ZIndex: =3

                StarVisible3 As label:
                    Align: =Align.Center
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(51, 51, 51, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =
                    PaddingLeft: =0
                    Size: =21
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    Y: =ButtonHomeWorker_10
                    ZIndex: =4

            sector_DataCard1 As typedDataCard.textualEditCard:
                BorderColor: =RGBA(166, 166, 166, 1)
                BorderStyle: =BorderStyle.Solid
                DataField: ="sector"
                Default: =ThisItem.sector
                DisplayMode: =Parent.DisplayMode
                DisplayName: =DataSourceInfo([@tbl_details],DataSourceInfo.DisplayName,"sector")
                Fill: =RGBA(0, 0, 0, 0)
                Height: =105
                MaxLength: =DataSourceInfo([@tbl_details], DataSourceInfo.MaxLength, "sector")
                Required: =false
                Update: =DataCardValue5.Text
                Width: =526
                X: =0
                Y: =2
                ZIndex: =3

                DataCardValue5 As text:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    BorderThickness: =2
                    Color: =RGBA(51, 51, 51, 1)
                    Default: =Parent.Default
                    DelayOutput: =true
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    DisplayMode: =Parent.DisplayMode
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    Height: =50
                    HintText: ="Setor"
                    HoverBorderColor: =ColorFade(RGBA(0, 120, 212, 1), -30%)
                    HoverColor: =RGBA(51, 51, 51, 1)
                    HoverFill: =RGBA(255, 255, 255, 1)
                    MaxLength: =Parent.MaxLength
                    PaddingLeft: =5
                    PressedBorderColor: =RGBA(0, 120, 212, 1)
                    PressedColor: =RGBA(51, 51, 51, 1)
                    PressedFill: =RGBA(255, 255, 255, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =21
                    Tooltip: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =(Parent.Height/3)-Self.Height/2
                    ZIndex: =2

                ErrorMessage5 As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(168, 0, 0, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(168, 0, 0, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =21
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =DataCardValue5.Y + DataCardValue5.Height
                    ZIndex: =3

                StarVisible5 As label:
                    Align: =Align.Center
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(51, 51, 51, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =0
                    PaddingLeft: =0
                    Size: =21
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    ZIndex: =4

    Label6 As label:
        BorderColor: =RGBA(0, 0, 0, 0)
        BorderStyle: =BorderStyle.None
        BorderThickness: =2
        Color: =RGBA(51, 51, 51, 1)
        DisabledBorderColor: =RGBA(0, 0, 0, 0)
        DisabledColor: =RGBA(166, 166, 166, 1)
        FocusedBorderThickness: =4
        Font: =Font.'Segoe UI'
        FontWeight: =FontWeight.Lighter
        Height: =250
        Size: =21
        Text: |-
            =$"Minimo pra validar: {Len(DataCardValueCnpj.Text)=14} | " &
            $"Digito verificador 1 = {varFirstDV} | " &
            $"Digito verificador 1 calculado = {varFirstDVCalculated} | " &
            $"varSum1To13Dig = {varSum1To13Dig} | " & 
            $"varFirstDVCalculated = {varFirstDVCalculated} | " &
            $"varSecondDVCalculated = {varSecondDVCalculated} | " &
            $"CNPJ é Válido = {varCnpjIsValid} | "
        Width: =560
        X: =38
        Y: =645
        ZIndex: =6

